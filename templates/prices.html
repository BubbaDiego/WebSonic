<!DOCTYPE html>
<html>
<head>
  <title>Test Jupiter Positions Fetch</title>
</head>
<body>
  <h1>Jupiter Positions Test</h1>
  <button id="fetchButton">Fetch Positions</button>
  
  <h3>API Response:</h3>
  <pre id="output" style="background: #f3f3f3; padding: 1em;"></pre>

  <script>
    document.getElementById('fetchButton').addEventListener('click', () => {
      // Replace this with the wallet address you want to test.
      const walletAddress = '6vMjsGU63evYuwwGsDHBRnKs1stALR7SYN5V57VZLXca'; 
      // Construct the API URL
      const url = `https://perps-api.jup.ag/v1/positions?walletAddress=${walletAddress}&showTpslRequests=true`;
      
      fetch(url)
        .then((response) => {
          if (!response.ok) {
            throw new Error('Network response was not ok: ' + response.statusText);
          }
          return response.json();
        })
        .then((data) => {
          console.log('Jupiter API response:', data);
          // Display raw JSON in <pre> for debugging
          document.getElementById('output').textContent = JSON.stringify(data, null, 2);
        })
        .catch((error) => {
          console.error('Error fetching positions:', error);
          document.getElementById('output').textContent = 'Error: ' + error;
        });
    });
  </script>
</body>
</html>
